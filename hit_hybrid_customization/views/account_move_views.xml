<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="pg_account_view_move_form_inherit" model="ir.ui.view">
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="mode">extension</field>
            <field name="model">account.move</field>
            <field name="name">pg_account_view_move_form_inherit</field>
            <field name="arch" type="xml">
                <!-- Button helper please comment it again -->
                <!-- <xpath expr="//button[@name='button_set_checked']" position="after">
                    <button name="action_post" string="Post Helper" class="oe_highlight" type="object"/>
                </xpath> -->
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="site_id" options="{'no_create': True}"/>
                    <!-- <field name="purchase_request_id" options="{'no_create': True}" domain="[('is_direct_payment', '=', True)]" attrs="{'invisible': [('move_type','!=','in_invoice')]}"/> -->
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//label[@for='ref']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='ref' and @nolabel='1']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='ref']" position="after">
                    <field name="bill_reference" attrs="{'invisible':[('move_type', 'not in', ('in_invoice', 'in_receipt', 'in_refund'))]}"/>
                </xpath>
                <xpath expr="//field[@name='reversed_entry_id']" position="before">
                    <field name="pg_reversal_id" attrs="{'invisible': ['|', ('reversed_entry_id', '!=', False), ('move_type', '!=', 'entry')]}"/>
                </xpath>
                <xpath expr="//field[@name='reversed_entry_id']" position="attributes">
                    <attribute name="attrs">{'invisible': ['|', ('pg_reversal_id', '!=', False), ('move_type', '!=', 'entry')]}</attribute>
                </xpath>
                <xpath expr="//field[@name='to_check']" position='after'>
                    <field name="reversed_of_id" string="Reversed Of" attrs="{'invisible': [('move_type', 'not in', ('in_refund', 'out_refund'))]}"/>
                    <field name="reversed_by_id" string="Reversed By" attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'out_invoice'))]}"/>
                </xpath>
                <xpath expr="//header//button[9]" position="attributes">
                    <attribute name="attrs">{'invisible': ['|', '|', '|', '|', ('move_type', '!=', 'entry'), ('state', '!=', 'posted'), ('payment_state', '=', 'reversed'), ('reversed_entry_id', '!=', False), ('pg_reversal_id', '!=', False)]}</attribute>
                </xpath>
                <xpath expr="//field[@name='tax_totals_json']" position="after">
                    <field name="currency_id" invisible="1" />
                    <label for="total_discount" />
                    <div>
                        <field name="currency_symbol" class="oe_inline" />
                        <field name="total_discount" class="oe_inline" />
                    </div>
                </xpath>
                <xpath expr="//field[@name='invoice_line_ids']//field[@name='discount']" position="after">
                    <field name="discount_val" optional="show" />
                </xpath>
            </field>
        </record>
        <record id="pg_account_move_efaktur_form_view_inherited" model="ir.ui.view">
            <field name="name">pg.account.move.efaktur.form.view.inherited</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="l10n_id_efaktur.account_move_efaktur_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='l10n_id_tax_number']" position="after">
                    <field name="tanggal_faktur_pajak" />
                    <field name="tanggal_bukti_potong" />
                </xpath>
            </field>
        </record>
    </data>
</odoo>
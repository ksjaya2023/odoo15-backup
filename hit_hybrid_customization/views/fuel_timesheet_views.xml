<odoo>

    <!-- Form View Document GI -->
    <record id="hit_fuel_timesheet_stock_picking_form_view" model="ir.ui.view">
        <field name="name">hit_fuel_timesheet_stock_picking_form_view</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form" />
        <field name="priority" eval="16" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="after">
                <field name="created_from_fuel_timesheet" invisible="1"/>
            </xpath>
            <xpath expr="//group" position="attributes">
                <attribute name="attrs">{'invisible': [('created_from_fuel_timesheet', '=', True)]}</attribute>
            </xpath>
            <xpath expr="//group" position="after">
                <group attrs="{'invisible': [('created_from_fuel_timesheet', '!=', True)]}">
                    <group>
                        <field name="picking_type_id" readonly="1"/>
                        <field name="location_dest_id" readonly="1"/>
                        <field name="remarks" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                    </group>
                    <group>
                        <field name="create_date" string="Issue Date" readonly="1"/>
                        <field name="date_done" string="Effective Date" readonly="1"/>
                        <field name="create_uid" readonly="1"/>
                    </group>
                </group>
            </xpath>
            <xpath expr="//page[@name='operations']//field[@name='product_id']" position="after">
                <field name="description_fuel_timesheet" readonly="1" attrs="{'invisible': [('parent.created_from_fuel_timesheet', '!=', True)]}"/> 
            </xpath>
        </field>
    </record>

    <!-- Tree View -->
    <record id="view_hit_fuel_timesheet_tree" model="ir.ui.view">
        <field name="name">hit.fuel.timesheet.tree</field>
        <field name="model">hit.fuel.timesheet</field>
        <field name="arch" type="xml">
            <tree string="Fuel Issued" editable="bottom">
                <header>
                    <button name="create_gi" 
                        type="object" 
                        string="Create GI" 
                        class="btn btn-secondary"
                    />
                </header>
                <field name="fuel_date" required="1"/>
                <field name="fuel_month"/>
                <field name="fuel_year"/>
                <field name="fuel_shift" required="1"/>
                <field name="equipment_id" required="1"/>
                <field name="equipment_egi"/>
                <field name="x_studio_analytic_account_id" readonly="1"/>
                <field name="owner_user_id" readonly="1"/>
                <field name="location_id" required="1"/>
                <field name="alocation"/>
                <field name="mining_alocation"/>
                <field name="hrm_alocation"/>
                <field name="equip_capacity"/>
                <field name="fbr_budget"/>
                <field name="fuel_issued" required="1"/>
                <field name="hm_km"/>
                <field name="stock_picking_id" widget="many2one_clickable" readonly="1"/>
                <button 
                name="action_view_stock_picking" 
                string="" 
                type="object" 
                attrs="{'invisible': [('stock_picking_id', '=', False)]}"
                icon="fa-external-link"
                />
                <field name="state" readonly="1"/>
                <field name="revision"/>
            </tree>
        </field>
    </record>

    <!-- Action -->
    <record id="action_hit_fuel_timesheet" model="ir.actions.act_window">
        <field name="name">Fuel Issuing</field>
        <field name="res_model">hit.fuel.timesheet</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_hit_fuel_timesheet_tree"/>
    </record>

    <!-- Menu Item -->
    <menuitem id="menu_hit_fuel_timesheet" name="Fuel Issuing" action="action_hit_fuel_timesheet" parent="stock.menu_stock_warehouse_mgmt" sequence="0"/>

</odoo>